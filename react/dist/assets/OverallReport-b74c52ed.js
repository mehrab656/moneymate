import{a as t,F as r,j as e,r as c,S as D,m as L}from"./index-8e1ee696.js";import{W as R}from"./WizCard-c3a4d722.js";import{M as F}from"./index-74298ed0.js";import{e as p}from"./index-dc02ab6d.js";import{R as I}from"./index-80c335aa.js";import{B as A}from"./Button-0b808ca5.js";import"./AuthRoutes-2e952a6b.js";import"./unsupportedIterableToArray-5ed4c917.js";import"./classCallCheck-25f3f0e0.js";const M=({investment:s,income:a,expense:o,sl:n})=>t("tr",{children:[s?t(r,{children:[e("td",{className:"sl_class",style:{background:"#d8f1f3"},children:Number(n)+1}),e("td",{style:{background:"#d8f1f3"},children:s.name}),e("td",{className:"amount",style:{background:"#d8f1f3"},children:s.amount})]}):e(r,{children:e("td",{className:"sl_class",colSpan:3,style:{background:"#d8f1f3"},children:e("b",{children:"-"})})}),o?t(r,{children:[e("td",{className:"sl_class",style:{background:"#ffdd78"},children:n+1}),e("td",{style:{background:"#ffdd78"},children:o.name}),e("td",{className:"amount",style:{background:"#ffdd78"},children:o.amount})]}):e(r,{children:e("td",{className:"sl_class",colSpan:3,style:{background:"#ffdd78"},children:e("b",{children:"-"})})}),a?t(r,{children:[e("td",{className:"sl_class",style:{background:"#d8f1f3"},children:n+1}),e("td",{style:{background:"#d8f1f3"},children:a.name}),e("td",{className:"amount",style:{background:"#d8f1f3"},children:a.amount})]}):e(r,{children:e("td",{className:"sl_class",colSpan:3,style:{background:"#d8f1f3"},children:e("b",{children:"-"})})})]}),C={investments:[],incomes:[],expenses:[],totalInvestment:0,totalExpense:0,totalIncome:0,length:0,refundable_amount:0,refunded_amount:0,market_receivable:0,account_receivable:0,lends:0,borrow:0,total_cash_in:0,total_cash_out:0,current_balance:0};function Y(){const s=c.useRef(),[a,o]=c.useState(C),[n,m]=c.useState(!1);c.useContext(D);const[f,i]=c.useState(null),[g,h]=c.useState(null),[N,y]=c.useState(""),[k,v]=c.useState([]);var u=[];const _=()=>{for(let l=0;l<a.length;l++)u.push(e(M,{investment:a.investments[l],income:a.incomes[l],expense:a.expenses[l],sl:l},l));v(u)},b=()=>{m(!0);try{L.get("/report/over-all",{params:{start_date:f,end_date:g}}).then(({data:l})=>{o(l),u=[],_(),m(!1)})}catch(l){console.warn(l),m(!1)}};c.useEffect(()=>{document.title="Over-All Reports",b()},[a.length]);const S=l=>{l.preventDefault(),b()},w=()=>{i(null),h(null),y(""),b()},x=l=>{if(l){const d=new Date;l<30&&d.setDate(d.getDate()-l),l>=30&&d.setMonth(d.getMonth()-l/30),i(d),h(new Date)}else i(null),h(null)};return t(r,{children:[e(F,{loaderVisible:n}),t(R,{className:"animated fadeInDown",children:[e("h1",{className:"title-text text-center",children:"Overall Reports"}),e("div",{className:"row",children:t("form",{onSubmit:S,children:[e("div",{className:"col-3",children:t("div",{className:"form-group",children:[e("label",{className:"custom-form-label",htmlFor:"income_category",children:"Filter"}),t("select",{className:"custom-form-control",value:N,id:"income-category",name:"income-category",onChange:l=>{const d=l.target.value||"";y(d),x(d)},children:[e("option",{value:"",children:"Filter by Dates and Months"}),e("option",{value:"7",children:"Last 7 Days"},"filter_value_7"),e("option",{value:"15",children:"Last 15 Days"},"filter_value_15"),e("option",{value:"30",children:"Last 1 Month"},"filter_value_1"),e("option",{value:"90",children:"Last 3 Month"},"filter_value_3"),e("option",{value:"180",children:"Last 6 Month"},"filter_value_6"),e("option",{value:"360",children:"Last 1 Year"},"filter_value_1_year")]})]})}),e("div",{className:"col-3",children:t("div",{className:"form-group",children:[e("label",{className:"custom-form-label",htmlFor:"start_date",children:"Start Date:"}),e(p,{className:"custom-form-control",id:"start_date",selected:f,onChange:l=>i(l),dateFormat:"yyyy-MM-dd"})]})}),e("div",{className:"col-3",children:t("div",{className:"form-group",children:[e("label",{className:"custom-form-label",htmlFor:"end_date",children:"End Date:"}),e(p,{className:"custom-form-control",id:"end_date",selected:g,onChange:l=>h(l),dateFormat:"yyyy-MM-dd"})]})}),t("div",{className:"col-3 mt-4",children:[e("button",{className:"btn-add right mt-2",type:"submit",children:"Filter"}),e("button",{className:"btn btn-warning ml-2",onClick:w,children:"Reset"}),e(I,{trigger:()=>e(A,{sx:{ml:1},variant:"outlined",children:"Print"}),content:()=>s.current})]})]})}),e("div",{className:"row",ref:s,children:e("div",{className:"col-12",children:t("div",{className:"responsive",style:{overflow:"auto"},children:[e("div",{className:"table-responsive-sm",children:t("table",{className:"table table-bordered custom-table",children:[t("thead",{children:[t("tr",{className:"text-center",children:[e("th",{colSpan:3,className:"bg-info",children:e("b",{children:"Investment"})}),e("th",{colSpan:3,className:"bg-warning",children:e("b",{children:"Expense"})}),e("th",{colSpan:3,className:"bg-info",children:e("b",{children:"Income"})})]}),t("tr",{children:[e("th",{style:{background:"#d8f1f3"},children:"S/L"}),e("th",{style:{background:"#d8f1f3"},children:"Investor"}),e("th",{style:{background:"#d8f1f3"},children:"Amount"}),e("th",{style:{background:"#ffdd78"},children:"S/L"}),e("th",{style:{background:"#ffdd78"},children:"Sector"}),e("th",{style:{background:"#ffdd78"},children:"Amount"}),e("th",{style:{background:"#d8f1f3"},children:"S/L"}),e("th",{style:{background:"#d8f1f3"},children:"Sector"}),e("th",{style:{background:"#d8f1f3"},children:"Amount"})]})]}),n&&e("tbody",{children:e("tr",{children:e("td",{colSpan:8,className:"text-center",children:"Loading..."})})}),!n&&t("tbody",{children:[k,t("tr",{children:[e("td",{className:"table_total bg-info",colSpan:2,children:e("b",{children:"Total"})}),e("td",{className:"amount bg-info",children:e("b",{children:a.totalInvestment})}),e("td",{className:"table_total bg-warning",colSpan:2,children:e("b",{children:"Total"})}),e("td",{className:"amount bg-warning",children:e("b",{children:a.totalExpense})}),e("td",{className:"table_total bg-info",colSpan:2,children:e("b",{children:"Total"})}),e("td",{className:"amount bg-info",children:e("b",{children:a.totalIncome})})]})]})]})}),e("div",{className:"table-responsive-sm",children:t("table",{className:"table table-bordered custom-table",children:[t("thead",{children:[t("tr",{className:"text-center",children:[e("th",{colSpan:3,className:"bg-success text-white",children:e("b",{children:"Cash IN"})}),e("th",{colSpan:3,style:{background:"#dc3545",color:"#ffffff"},children:e("b",{children:"Cash OUT"})}),e("th",{colSpan:4,rowSpan:2,className:"bg-success text-white",children:e("b",{children:"Final Summary"})})]}),t("tr",{children:[e("th",{style:{background:"#5bd99e"},children:"S/L"}),e("th",{style:{background:"#5bd99e"},children:"Details"}),e("th",{style:{background:"#5bd99e"},children:"Amount"}),e("th",{style:{background:"#f58c96"},children:"S/L"}),e("th",{style:{background:"#f58c96"},children:"Details"}),e("th",{style:{background:"#f58c96"},children:"Amount"})]})]}),n&&e("tbody",{children:e("tr",{children:e("td",{colSpan:8,className:"text-center",children:"Loading..."})})}),!n&&t("tbody",{children:[t("tr",{children:[e("td",{style:{background:"#5bd99e"},className:"sl_class",children:"1"}),e("td",{style:{background:"#5bd99e"},children:"Investment"}),e("td",{style:{background:"#5bd99e"},className:"amount",children:a.totalInvestment}),e("td",{style:{background:"#f58c96"},className:"sl_class",children:"1"}),e("td",{style:{background:"#f58c96"},children:"Expense"}),e("td",{style:{background:"#f58c96"},className:"amount",children:a.totalExpense}),e("td",{style:{background:"#d8f1f3"},colSpan:2,children:"Current Balance"}),e("td",{style:{background:"#d8f1f3"},colSpan:2,className:"amount",children:a.current_balance})]}),t("tr",{children:[e("td",{style:{background:"#5bd99e"},className:"sl_class",children:"2"}),e("td",{style:{background:"#5bd99e"},children:"Income"}),e("td",{style:{background:"#5bd99e"},className:"amount",children:a.totalIncome}),e("td",{style:{background:"#f58c96"},className:"sl_class",children:"2"}),e("td",{style:{background:"#f58c96"},children:"Lend to Others"}),e("td",{style:{background:"#f58c96"},className:"amount",children:a.lends}),e("td",{style:{background:"#d8f1f3"},colSpan:2,children:"Account Receivable"}),e("td",{style:{background:"#d8f1f3"},colSpan:2,className:"amount",children:a.account_receivable})]}),t("tr",{children:[e("td",{style:{background:"#5bd99e"},className:"sl_class",children:"3"}),e("td",{style:{background:"#5bd99e"},children:"Refunded Amount"}),e("td",{style:{background:"#5bd99e"},className:"amount",children:a.refunded_amount}),e("td",{style:{background:"#f58c96"},colSpan:3,rowSpan:2}),e("td",{style:{background:"#d8f1f3"},colSpan:2,children:"Account Liability"}),e("td",{style:{background:"#d8f1f3"},colSpan:2,className:"amount",children:a.borrow})]}),t("tr",{children:[e("td",{style:{background:"#5bd99e"},className:"sl_class",children:"4"}),e("td",{style:{background:"#5bd99e"},children:"Loan"}),e("td",{style:{background:"#5bd99e"},className:"amount",children:a.borrow}),e("td",{style:{background:"#d8f1f3"},colSpan:4,rowSpan:2})]}),t("tr",{children:[e("td",{style:{background:"#d8f1f3"},className:"table_total bg-success text-white",colSpan:2,children:e("b",{children:"Total"})}),e("td",{style:{background:"#d8f1f3"},className:"amount bg-success text-white",children:e("b",{children:a.total_cash_in})}),e("td",{style:{background:"#dc3545",color:"#ffffff"},className:"table_total",colSpan:2,children:e("b",{children:"Total"})}),e("td",{style:{background:"#dc3545",color:"#ffffff"},className:"amount",children:e("b",{children:a.total_cash_out})})]})]})]})})]})})})]})]})}export{Y as default};
